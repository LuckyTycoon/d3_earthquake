<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D3.js</title>

    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
    integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
    crossorigin="" />
</head>

<body>
    <div id="container"></div>
</body>

<script src="https://d3js.org/d3.v7.min.js"></script>
<script type="module">

    // Application of margin conventions for D3.

    var margin = { top: 20, right: 20, bottom: 20, left: 20 };

    var width = 450 - margin.left - margin.right,
        height = 300 - margin.top - margin.bottom;

    // Data to display.
    var blue = [86, 51, 42, 29, 89, 56, 73, 37, 81, 57, 54, 74, 72, 85, 56, 60, 72,
        75, 57, 89, 53, 77, 97, 77, 60, 86, 86, 60, 53, 77, 74, 50, 64, 90,
        51, 90, 73, 86, 55, 74, 64, 57, 75, 66, 58, 79, 55, 65, 62, 68, 20,
        50, 82, 76, 79, 71, 63, 78, 69, 76, 53, 91, 92, 83, 47, 72, 91, 80,
        51, 71, 64, 75, 78, 49, 92, 52, 82, 78, 57, 41, 28];
    var green = [56, 77, 74, 50, 64, 90, 51, 90, 67, 98, 100, 54, 65];
    var red = [62, 68, 50, 11, 63, 18, 69, 16, 53];

    /**
     * Displaying data with a box plot in an svg element.
    // svg: element where we display
    // data: array of numbers between 0 and 100
    // y: vertical position of the horizontal line
    // h: height of the box
    // strokeC: line stroke color
    // fillC: box fill color
    // y: data transformation function for horizontal
    */
    function moustache(svg, donnees, y, h, strokeC, fillC, x) {
        ///// To be completed!
    }

    d3.select(window).on("load",
        function () {
            // Set up the drawing surface.
            // Create the SVG container.
            const svg = d3.create("svg")
                .attr("width", width)
                .attr("height", height);


            // Define the scale function (using d3.scale).
            // Add the x-axis.
            svg.append("g")
                .attr("transform", `translate(0,${height - margin.bottom})`)
                .call(d3.axisBottom(x));

            // Show x axis.
            ///// To be completed!

            // Show data.
            moustache(svg, blue, 50, 30, "blue", "lightblue", x);
            moustache(svg, green, 130, 30, "green", "lightgreen", x);
            moustache(svg, red, 210, 30, "red", "pink", x);
        }
    );

</script>

</html>